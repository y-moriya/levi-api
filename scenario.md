# ゲーム進行シナリオテスト

このドキュメントでは、人狼ゲームの進行シナリオとその期待される結果を定義します。これらのシナリオはAPIテストとして実装され、ゲームロジックの正常性を検証するために使用されます。

## シナリオ1: 基本的な人狼の処刑
### 設定
- 参加人数: 3人
- 役職配分: 村人1, 人狼1, 占い師1
- 勝利条件: 人狼が処刑される

### 進行手順
1. ゲーム開始
   - 各プレイヤーに役職が割り当てられる
   - 占い師は初日に誰かを占う

2. 1日目 - 昼フェーズ
   - 占い師が占い結果を共有（人狼を占っていた場合）
   - 議論時間終了

3. 1日目 - 投票フェーズ
   - 村人と占い師が人狼に投票
   - 人狼が村人または占い師に投票
   - 人狼が最多得票で処刑

4. 結果
   - 人狼が処刑されて村人陣営の勝利

### 期待される動作確認項目
- 役職が正しく割り当てられること
- 占い結果が正しく通知されること
- 投票が正しく集計されること
- 処刑後の勝利判定が正しく行われること

## シナリオ2: 人狼による村人陣営の勝利
### 設定
- 参加人数: 3人
- 役職配分: 村人1, 人狼1, 占い師1
- 勝利条件: 人狼が村人陣営を全滅させる

### 進行手順
1. ゲーム開始
   - 各プレイヤーに役職が割り当てられる
   - 占い師は村人を占う

2. 1日目 - 昼フェーズ
   - 占い師が占い結果を共有
   - 議論時間終了

3. 1日目 - 投票フェーズ
   - 占い師が処刑される
   - 処刑により人狼と村人の数が等しくなったため、人狼の勝利

### 期待される動作確認項目
- 夜フェーズの襲撃が正しく実行されること
- 死亡したプレイヤーが正しく記録されること
- 人数バランスによる勝利判定が正しく行われること

## シナリオ3: 長期戦
### 設定
- 参加人数: 5人
- 役職配分: 村人2, 人狼1, 占い師1, 狩人1
- 勝利条件: いずれかの陣営が勝利条件を満たす

### 進行手順
1. ゲーム開始
   - 各プレイヤーに役職が割り当てられる
   - 占い師は初日に誰かを占う

2. 1日目 - 昼〜夜フェーズ
   - 占い結果の共有
   - 投票で村人が処刑
   - 夜に狩人が占い師を護衛
   - 人狼が占い師を襲撃（護衛により失敗）

3. 2日目以降
   - 占い師が人狼を特定
   - 投票で人狼を処刑
   - 村人陣営の勝利

### 期待される動作確認項目
- 護衛アクションが正しく機能すること
- 襲撃の失敗が正しく処理されること
- 複数日に渡るゲーム進行が正しく管理されること

## テスト実装のポイント
1. 各シナリオをAPIテストとして実装
2. ランダム要素（役職割り当て）の制御
3. タイマーのモック化（フェーズ進行の制御）
4. アクションの実行タイミングの制御
5. 結果の検証（勝利条件、プレイヤーの状態など）